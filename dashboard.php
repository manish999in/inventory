<?php include 'header.php'; ?>


<div class="container-fluid ">

    <!-- first start -->

    <!-- <div class="row">
        <?php
        for ($i = 1; $i <= 3; $i++): ?>

            <div class="col-md-4 mb-2">
                <div class="widget-container"><a href="#" class="white-link">
                        <div class="card dashboard-icon-widget">
                            <div class="card-body">
                                <div class="widget-icon bg-coral">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                        stroke-linejoin="round" class="feather feather-compass icon">
                                        <circle cx="12" cy="12" r="10"></circle>
                                        <polygon points="16.24 7.76 14.12 14.12 7.76 16.24 9.88 9.88 16.24 7.76"></polygon>
                                    </svg>
                                </div>
                                <div class="widget-details">
                                    <h1>10</h1>
                                    <span class="bg-transparent-white">Payement</span>
                                </div>
                            </div>
                        </div>
                    </a></div>
            </div>
        <?php endfor; ?>
    </div> -->
    <!-- first end -->


    <!-- new start-->

    <div class="row g-6 mb-3">
        <div class="col-xl-3 col-sm-6 col-12">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <span class="h6 font-semibold text-muted text-sm d-block mb-2">Budget</span>
                            <span class="h3 font-bold mb-0">$750.90</span>
                        </div>
                        <div class="col-auto">
                            <div class="icon icon-shape bg-tertiary text-white text-lg rounded-circle">
                                <i class="fas fa-credit-card"></i> <!-- Font Awesome icon -->
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 mb-0 text-sm">
                        <span class="badge badge-pill bg-soft-success text-success me-2 plusbgt">
                            <i class="fas fa-arrow-up me-1"></i>13% <!-- Font Awesome icon -->
                        </span>
                        <span class="text-nowrap text-xs text-muted">Since last month</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <span class="h6 font-semibold text-muted text-sm d-block mb-2">New projects</span>
                            <span class="h3 font-bold mb-0">215</span>
                        </div>
                        <div class="col-auto">
                            <div class="icon icon-shape bg-primary text-white text-lg rounded-circle">
                                <i class="fas fa-users"></i> <!-- Font Awesome icon -->
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 mb-0 text-sm">
                        <span class="badge badge-pill bg-soft-success text-success me-2 plusbgt">
                            <i class="fas fa-arrow-up me-1"></i>30% <!-- Font Awesome icon -->
                        </span>
                        <span class="text-nowrap text-xs text-muted">Since last month</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <span class="h6 font-semibold text-muted text-sm d-block mb-2">Total hours</span>
                            <span class="h3 font-bold mb-0">1.400</span>
                        </div>
                        <div class="col-auto">
                            <div class="icon icon-shape bg-info text-white text-lg rounded-circle">
                                <i class="fas fa-clock"></i> <!-- Font Awesome icon -->
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 mb-0 text-sm">
                        <span class="badge badge-pill bg-soft-danger text-danger me-2 minusbg">
                            <i class="fas fa-arrow-down me-1"></i>-5% <!-- Font Awesome icon -->
                        </span>
                        <span class="text-nowrap text-xs text-muted">Since last month</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 col-12">
            <div class="card shadow border-0">
                <div class="card-body">
                    <div class="row">
                        <div class="col">
                            <span class="h6 font-semibold text-muted text-sm d-block mb-2">Work load</span>
                            <span class="h3 font-bold mb-0">95%</span>
                        </div>
                        <div class="col-auto">
                            <div class="icon icon-shape bg-warning text-white text-lg rounded-circle">
                                <i class="fas fa-truck-loading"></i> <!-- Font Awesome icon -->
                            </div>
                        </div>
                    </div>
                    <div class="mt-2 mb-0 text-sm">
                        <span class="badge badge-pill bg-soft-success text-success me-2 plusbgt">
                            <i class="fas fa-arrow-up me-1"></i>10% <!-- Font Awesome icon -->
                        </span>
                        <span class="text-nowrap text-xs text-muted">Since last month</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- new start-->

    <div class="row mt-2">

        <div class="col-md-4">
            <div class="widget-container">
                <div class="card bg-white">
                    <div class="card-header">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-grid icon-16">
                            <rect x="3" y="3" width="7" height="7"></rect>
                            <rect x="14" y="3" width="7" height="7"></rect>
                            <rect x="14" y="14" width="7" height="7"></rect>
                            <rect x="3" y="14" width="7" height="7"></rect>
                        </svg> &nbsp;Projects Overview
                    </div>
                    <div class="rounded-bottom pt-2">
                        <div class="box">
                            <div class="box-content">
                                <a href="" class="text-default">
                                    <div class="pt-3 pb10 text-center">
                                        <div class="b-r">
                                            <h4 class="strong mb-1 mt-0" style="color: #01B393;">21</h4>
                                            <span>Open</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="box-content">
                                <a href="" class="text-default">
                                    <div class="pt-3 pb10 text-center">
                                        <div class="b-r">
                                            <h4 class="strong mb-1 mt-0 text-danger">4</h4>
                                            <span>Completed</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <div class="box-content">
                                <a href="" class="text-default">
                                    <div class="pt-3 pb10 text-center">
                                        <div>
                                            <h4 class="strong mb-1 mt-0 text-warning">0</h4>
                                            <span>Hold</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </div>

                        <div class="project-overview-widget">
                            <div class="progress-outline">
                                <div class="progress mt5 m-auto position-relative">
                                    <div class="progress-bar bg-orange text-default" role="progressbar"
                                        style="width:50%;" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100">
                                        <span class="justify-content-center d-flex position-absolute w-100">Progression
                                            50%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card bg-white mt-2 mb-2">
                    <div class="row">
                        <div class="col-md-5 col-5">
                            <div class="p-4">
                                <div class="b-r">
                                    <h3 class="mt-0 mb-1 strong text-danger">0</h3>
                                    <div class="text-truncate">Reminder Today</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-7 col-7">
                            <div class="p-4">
                                <div class="p-1 mt-0 mb-1 text-truncate"><svg xmlns="http://www.w3.org/2000/svg"
                                        width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                        class="feather feather-bell icon text-danger">
                                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                                    </svg> <span class="ml5">Next reminder</span></div>
                                <div class="text-truncate">
                                    <span class="text-off">No recall</span>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

        <div class="col-md-4">
            <div class="widget-container ingreous-info">
                <div class="card bg-white h373" style="height:390px">
                    <div class="card-header clearfix">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                            class="feather feather-pie-chart icon-16">
                            <path d="M21.21 15.89A10 10 0 1 1 8 2.83"></path>
                            <path d="M22 12A10 10 0 0 0 12 2v10z"></path>
                        </svg> &nbsp;Ingresos vs gastos
                    </div>
                    <div class="card-body rounded-bottom">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="chartjs-size-monitor">
                                    <div class="chartjs-size-monitor-expand">
                                        <div class=""></div>
                                    </div>
                                    <div class="chartjs-size-monitor-shrink">
                                        <div class=""></div>
                                    </div>
                                </div>
                                <canvas id="myChart"
                                    style="width:100%;max-width:1000px; min-hheight: 200px; height:300px; max-height: 400px;"></canvas>
                            </div>
                            <!--<div class="col-md-8 gastos">
                                <div class="mb-2">Este año</div>
                                <div class="mb-1">
                                    <div class="color-tag border-circle me-3 wh10" style="background-color: #32A483;">
                                    </div>
                                    <span class="strong">$977,367,547.00</span>
                                </div>
                                <div>
                                    <div class="color-tag border-circle me-3 wh10" style="background-color: #E60050;">
                                    </div>
                                    <span class="strong">$3,500,955.10</span>
                                </div>
                                <div class="mt-4 mb-2">Último año</div>
                                <div class="mb-1">
                                    <div class="color-tag border-circle me-3 wh10" style="background-color: #32A483;">
                                    </div>
                                    <span class="strong">$69,953,001.00</span>
                                </div>
                                <div>
                                    <div class="color-tag border-circle me-3 wh10" style="background-color: #E60050;">
                                    </div>
                                    <span class="strong">$754,828,584.20</span>
                                </div>
                            </div>-->
                        </div>
                        <!-- <div class="pt35 ps-3">
                            <div class="chartjs-size-monitor">
                                <div class="chartjs-size-monitor-expand">
                                    <div class=""></div>
                                </div>
                                <div class="chartjs-size-monitor-shrink">
                                    <div class=""></div>
                                </div>
                            </div>
                            <div class="pt-2">Este año</div>
                            <canvas id="dashboard-income-vs-expenses-chart"
                                style="width: 483px; height: 60px; margin-left: -10px; display: block;" width="483"
                                height="60" class="chartjs-render-monitor"></canvas> 
                        </div> -->
                    </div>
                </div>


            </div>
        </div>

        <div class="col-md-4">
            <div class="card bg-white eventss">
                <div class="card-header">

                    <div class="inventoryItems">
                        <span class="eventPlus"> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar icon-16">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>&nbsp; Events</span>
                        <span class="eventPlus btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#todoModal">+</span>

                    </div>
                </div>

                <div id="upcoming-event-container" class="ps ps--active-y">
                    <div class="card-body">
                        <div style="min-height: 190px;">
                            <div id="calendar" class="calendar">
                                <div class="calendar-title">
                                    <div class="calendar-title-text"></div>
                                    <div class="calendar-button-group">
                                        <button id="prevMonth">&lt;</button>
                                        <button id="today">Today</button>
                                        <button id="nextMonth">&gt;</button>
                                    </div>
                                </div>
                                <div class="calendar-day-name"></div>
                                <div class="calendar-dates"></div>
                            </div>

                            <div id="todoList">
                                <!-- To-Do items will appear here -->
                            </div>

                        </div>
                        <div>
                            <a href="http://localhost/inventory/eventlist.php"
                                class="btn btn-default w-100 mt15 border">View
                                on calendar</a>
                        </div>
                    </div>
                </div>

            </div>
        </div>


    </div>

    <!-- 
    <div class="row">
        <div class="col-md-6">
            <div class="card bg-white">

                <div id="chart"></div>

                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
                <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/d3/3.5.3/d3.min.js"></script>

                <script>
                    //Datos a mostrar
                    var bardata = [7, 5, 4, 7, 23, 25, 7, 34, 6, 29, 18];

                    var nombres = ['uno', 'dos', 'tres', 'cuatro', 'cinco', 'seis', 'siete', 'ocho', 'nueve', 'diez', 'once'];


                    //--------objeto con los márgenes de la gráfica-------------
                    var margin = {
                        top: 30,
                        right: 30,
                        bottom: 45,
                        left: 40
                    }
                    //medidas del chart y las barras y el offset
                    var height = 400 - margin.top - margin.bottom,
                        width = 800 - margin.left - margin.right,
                        barWidth = 50,
                        barOffset = 5;
                    var tempColor;
                    //scala de colores en función de la posición en la gráfica
                    var colores2 = d3.scale.linear()
                        .domain([0, bardata.length * 0.3, bardata.length])
                        .range(['yellow', 'orange', 'red']);

                    //scala de colores en función del valor (d)
                    var colores = d3.scale.linear()
                        .domain([0, d3.max(bardata)])
                        .range(['yellow', 'red']);

                    //scala eje y
                    var yScale = d3.scale.linear()
                        .domain([0, d3.max(bardata)])
                        .range([0, height]);
                    //scala eje x
                    var xScale = d3.scale.ordinal()
                        .domain(d3.range(0, bardata.length))
                        .rangeBands([0, width], 0.05, .3);

                    //tooltip
                    var tooltip = d3.select('body').append('div')
                        .style('position', 'absolute')
                        .style('padding', '10px')
                        .style('background', 'white')
                        .style('opacity', '0')
                        .style('border-radius', '6px');
                    //grafica
                    //cambio color

                    var miChart = d3.select('#chart').append('svg')
                        .style('background', '#333')
                        .attr('width', width + margin.left + margin.right)
                        .attr('height', height + margin.top + margin.bottom)
                        .append('g')
                        .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')
                        .selectAll('rect').data(bardata)
                        .enter().append('rect')
                        //.style('fill', colores)
                        .style('fill', function (d, i) {
                            //crear degradado de izq a derecha---------------------------------
                            return colores2(i);
                            //crear degradado por valor---------------------------------
                            //return colores2(d);
                        })
                        .attr('width', xScale.rangeBand())
                        .attr('x', function (d, i) {
                            return xScale(i);
                        })
                        .attr('height', 0)
                        .attr('y', height)

                        .on('mouseover', function (d, i) {
                            //console.log(nombres[i]);
                            var nombre = nombres[i];
                            tooltip.transition().delay(100)
                                .style('opacity', .8)
                            tooltip.html('<h4 class="text-primary"><small class="text-info">NOMBRE </small><span class="text-success"><strong>' + nombre + '</strong></span><br/><small class="text-info">VALOR </small><strong>' + d + '</strong></h4>')
                                .style('left', (d3.event.pageX + 20) + 'px')
                                .style('top', (d3.event.pageY - 60) + 'px')

                            tempColor = this.style.fill;
                            d3.select(this)
                                .transition()
                                .style('opacity', .5)
                                .style('fill', 'yellow');
                        })
                        .on('mouseout', function (d) {
                            tooltip.transition()
                                .style('opacity', 0)
                            d3.select(this)
                                .transition()
                                .delay(200)
                                .duration(300)
                                .style('opacity', 1)
                                .style('fill', tempColor);
                        });
                    //animar transicion de 0 a d
                    miChart.transition()
                        .delay(function (d, i) {
                            return i * 25;
                        })
                        .duration(600)
                        //.ease('elastic')
                        .attr('height', function (d) {
                            return yScale(d);
                        })
                        .attr('y', function (d) {
                            return height - yScale(d);
                        });







                    //cambio color
                    d3.select('#canvicolor')
                        .on('click', function () {

                            cambiocolor();
                        });

                    function cambiocolor() {
                        alert('holaa')
                    }


                    //crear escala vertical para el eje
                    var vGuideScale = d3.scale.linear()
                        .domain([0, d3.max(bardata)])
                        .range([height, 0]);
                    //creando eje vertical
                    var vAxis = d3.svg.axis()
                        .scale(vGuideScale)
                        .orient('left')
                        .ticks(10);
                    //añado el eje vertical dentro del 'svg' en un nuevo 'g'
                    var vGuide = d3.select('svg').append('g')
                    vAxis(vGuide);
                    vGuide.attr('transform', 'translate(' + margin.left + ',' + margin.top + ')')
                    vGuide.selectAll('path')
                        .style({
                            fill: 'none',
                            stroke: '#fff',
                            color: 'white'
                        });
                    vGuide.selectAll('line')
                        .style({
                            stroke: '#fff'
                        });
                    var hAxis = d3.svg.axis()
                        .scale(xScale)
                        .orient('bottom')
                        .tickValues(xScale.domain().filter(function (d, i) {
                            return !(i % (bardata.length / 4)); //length dividido por un numero múltiplo del length
                        }));

                    var hGuide = d3.select('svg').append('g')
                    hAxis(hGuide);
                    hGuide.attr('transform', 'translate(' + margin.left + ',' + (height + margin.top) + ')');
                    hGuide.selectAll('path')
                        .style({
                            fill: 'none',
                            stroke: '#fff'
                        });
                    hGuide.selectAll('line')
                        .style({
                            stroke: '#fff'
                        });
                </script>
            </div>
        </div>
    </div> -->
</div>

<!-- new end-->



<!-- To-Do Modal -->
<div class="modal fade" id="todoModal" tabindex="-1" aria-labelledby="todoModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="todoModalLabel">Add To-Do</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="todoForm">
                    <div class="mb-3">
                        <label for="todoName" class="form-label">To-Do Name</label>
                        <input type="text" class="form-control" id="todoName" required>
                    </div>
                    <div class="mb-3">
                        <label for="todoDate" class="form-label">Date</label>
                        <input type="date" class="form-control" id="todoDate" required>
                    </div>
                    <div class="mb-3">
                        <label for="todoTime" class="form-label">Time</label>
                        <input type="time" class="form-control" id="todoTime" required>
                    </div>
                    <div class="mb-3">
                        <label for="todoLocation" class="form-label">Location</label>
                        <input type="text" class="form-control" id="todoLocation">
                    </div>
                    <div class="mb-3">
                        <label for="todoDescription" class="form-label">Description</label>
                        <textarea class="form-control" id="todoDescription"></textarea>
                    </div>
                    <div class="mb-3">
                        <label for="todoMember" class="form-label">Member</label>
                        <input type="text" class="form-control" id="todoMember">
                    </div>
                    <button type="submit" class="btn btn-primary">Create To-Do</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Full Data Modal -->
<div class="modal fade" id="fullDataModal" tabindex="-1" aria-labelledby="fullDataModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="fullDataModalLabel">To-Do Details</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h5 id="modalTodoName"></h5>
                <p><strong>Date:</strong> <span id="modalTodoDate"></span></p>
                <p><strong>Time:</strong> <span id="modalTodoTime"></span></p>
                <p><strong>Location:</strong> <span id="modalTodoLocation"></span></p>
                <p><strong>Description:</strong> <span id="modalTodoDescription"></span></p>
                <p><strong>Member:</strong> <span id="modalTodoMember"></span></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
<script>
    document.getElementById('todoForm').addEventListener('submit', function (e) {
        e.preventDefault();

        // Get form values
        const name = document.getElementById('todoName').value;
        const date = document.getElementById('todoDate').value;
        const time = document.getElementById('todoTime').value;
        const location = document.getElementById('todoLocation').value;
        const description = document.getElementById('todoDescription').value;
        const member = document.getElementById('todoMember').value;

        // Create a unique ID for each to-do item
        const todoId = 'todo-' + Date.now();

        // Create new to-do item with delete button and a click event to show details
        const todoItem = `
    <div class="todo-item" id="${todoId}" onclick="showDetails('${name}', '${date}', '${time}', '${location}', '${description}', '${member}')">
        <div>
            <a href="#" data-post-id="${todoId}" data-title="Event details" class="details-link">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-at-sign icon-16" style="color:#4a8af4;">
                    <circle cx="12" cy="12" r="4"></circle>
                    <path d="M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-3.92 7.94"></path>
                </svg>
                Event details
            </a>
        </div>
        <div class="date">Date: ${date}</div>
        <button class="delete-btn" onclick="deleteTodo('${todoId}', event)">×</button>
    </div>
`;

        // Append the new item to the list
        document.getElementById('todoList').insertAdjacentHTML('beforeend', todoItem);

        // Reset form
        document.getElementById('todoForm').reset();

        // Close the modal programmatically
        var todoModal = bootstrap.Modal.getInstance(document.getElementById('todoModal'));
        todoModal.hide();

        // Clean up any remaining backdrops
        document.querySelectorAll('.modal-backdrop').forEach(el => el.remove());
    });

    // Function to show the full details of the clicked to-do item
    function showDetails(name, date, time, location, description, member) {
        document.getElementById('modalTodoName').textContent = name;
        document.getElementById('modalTodoDate').textContent = date;
        document.getElementById('modalTodoTime').textContent = time;
        document.getElementById('modalTodoLocation').textContent = location;
        document.getElementById('modalTodoDescription').textContent = description;
        document.getElementById('modalTodoMember').textContent = member;

        var fullDataModal = new bootstrap.Modal(document.getElementById('fullDataModal'));
        fullDataModal.show();
    }

    // Function to delete a to-do item
    function deleteTodo(todoId, event) {
        event.stopPropagation();
        document.getElementById(todoId).remove();
    }



</script>

<!-- second end -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
<script>
    var xValues = ["Italy", "France", "Spain", "USA", "Argentina"];
    var yValues = [55, 49, 44, 24, 15];
    var barColors = [
        "#e99803",
        "#00aba9",
        "#2b5797",
        "#e8c3b9",
        "#1e7145"
    ];

    new Chart("myChart", {
        type: "doughnut",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            title: {
                display: true,
                text: "World Wide Wine Production 2018"
            }
        }
    });
</script>
<script src='https://unpkg.com/dayjs@1.8.21/dayjs.min.js'></script>
<script>
    let currentDate = dayjs();
    let daysInMonth = dayjs().daysInMonth();
    let firstDayPosition = dayjs().startOf("month").day();
    let monthNames = [
        "January",
        "February",
        "March",
        "April",
        "May",
        "June",
        "July",
        "August",
        "September",
        "October",
        "November",
        "December"
    ];
    let weekNames = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"];
    let dateElement = document.querySelector("#calendar .calendar-dates");
    let calendarTitle = document.querySelector(".calendar-title-text");
    let nextMonthButton = document.querySelector("#nextMonth");
    let prevMonthButton = document.querySelector("#prevMonth");
    let dayNamesElement = document.querySelector(".calendar-day-name");
    let todayButton = document.querySelector("#today");
    let dateItems = null;
    let newMonth = null;

    weekNames.forEach(function (item) {
        dayNamesElement.innerHTML += `<div>${item}</div>`;
    });

    function plotDays() {
        let count = 1;
        dateElement.innerHTML = "";

        let prevMonthLastDate = currentDate.subtract(1, "month").endOf("month").$D;
        let prevMonthDateArray = [];

        //plot prev month array
        for (let p = 1; p < firstDayPosition; p++) {
            prevMonthDateArray.push(prevMonthLastDate--);
        }
        prevMonthDateArray.reverse().forEach(function (day) {
            dateElement.innerHTML += `<button class="calendar-dates-day-empty">${day}</button>`;
        });

        //plot current month dates
        for (let i = 0; i < daysInMonth; i++) {
            dateElement.innerHTML += `<button class="calendar-dates-day">${count++}</button>`;
        }

        //next month dates
        let diff =
            42 - Number(document.querySelector(".calendar-dates").children.length);
        let nextMonthDates = 1;
        for (let d = 0; d < diff; d++) {
            document.querySelector(
                ".calendar-dates"
            ).innerHTML += `<button class="calendar-dates-day-empty">${nextMonthDates++}</button>`;
        }

        //month name and year
        calendarTitle.innerHTML = `${monthNames[currentDate.month()]
            } - ${currentDate.year()}`;
    }

    //highlight current date
    function highlightCurrentDate() {
        dateItems = document.querySelectorAll(".calendar-dates-day");
        if (dateElement && dateItems[currentDate.$D - 1]) {
            dateItems[currentDate.$D - 1].classList.add("today-date");
        }
    }

    //next month button event
    nextMonthButton.addEventListener("click", function () {
        newMonth = currentDate.add(1, "month").startOf("month");
        setSelectedMonth();
    });

    //prev month button event
    prevMonthButton.addEventListener("click", function () {
        newMonth = currentDate.subtract(1, "month").startOf("month");
        setSelectedMonth();
    });

    //today button event
    todayButton.addEventListener("click", function () {
        newMonth = dayjs();
        setSelectedMonth();
        setTimeout(function () {
            highlightCurrentDate();
        }, 50);
    });

    //set next and prev month
    function setSelectedMonth() {
        daysInMonth = newMonth.daysInMonth();
        firstDayPosition = newMonth.startOf("month").day();
        currentDate = newMonth;
        plotDays();
    }

    //init
    plotDays();
    setTimeout(function () {
        highlightCurrentDate();
    }, 50);

</script>

</div>


</div>



<?php include 'footer.php'; ?>